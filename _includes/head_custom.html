<!-- Preload dark theme so itâ€™s ready -->
<link
  rel="preload"
  href="{{ site.baseurl }}/assets/css/just-the-docs-dark.css"
  as="style"
>

<!-- Default theme stylesheet (fallback) -->
<link
  id="jtdThemeCSS"
  rel="stylesheet"
  href="{{ site.baseurl }}/assets/css/just-the-docs-default.css"
>

<script>
/* Persistent dark mode for Chem 120 */

jtd.getTheme = function () {
  var cssFileHref = (
    document.getElementById('jtdThemeCSS') || document.querySelector('[rel="stylesheet"]')
  ).getAttribute('href');
  return cssFileHref.substring(cssFileHref.lastIndexOf('-') + 1, cssFileHref.length - 4);
};

jtd.setTheme = function (theme) {
  var cssFile = document.getElementById('jtdThemeCSS') || document.querySelector('[rel="stylesheet"]');
  cssFile.setAttribute('href', cssFile.getAttribute('href').replace(jtd.getTheme(), theme));
};

let toggleDark = () => {
  let setDark = jtd.getTheme() !== 'dark';
  document.documentElement.setAttribute('data-theme', setDark ? 'dark' : 'default');
  jtd.setTheme(setDark ? 'dark' : 'default');
  localStorage.setItem('darkMode', String(setDark));
};

document.addEventListener('DOMContentLoaded', () => {
  if (localStorage.getItem('darkMode') === 'true') {
    document.documentElement.setAttribute('data-theme', 'dark');
    jtd.setTheme('dark');
  } else {
    document.documentElement.setAttribute('data-theme', 'default');
    jtd.setTheme('default');
  }
});
</script>


<script>
document.addEventListener('DOMContentLoaded', () => {
  var navList = document.querySelector('.aux-nav-list');
  if (!navList) {
    return;
  }
  var darkToggle = navList.firstElementChild;
  darkToggle.addEventListener('click', (e) => {
    e.preventDefault();
    toggleDark();
  });
});
</script>